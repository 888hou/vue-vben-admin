import{d as a,_ as e,A as s,r as o,u as l,a as t,L as n,b as i,c as r,e as c,f as d,t as u,g as m,h as f,o as g,i as p,j as y,k as w,l as b,w as _,m as v}from"./index.20a648bb.js";import{C as h,F as j}from"./index.8f9deaa2.js";import"./index.d26a36d5.js";import{I as k}from"./index.d12520f4.js";import{R as x,C as L}from"./index.ddc1cded.js";import"./vendor.3b1829c7.js";import"./findIndex.e82ae4f4.js";import"./isEqual.a1a0c06b.js";import"./get.1ba4a11b.js";import"./_baseProperty.74f89655.js";import"./toInteger.5ff1b25f.js";import"./responsiveObserve.c545f1cc.js";import"./SearchOutlined.f49841f0.js";import"./EyeOutlined.b07d9be1.js";var P=a({components:{[h.name]:h,[j.name]:j,[j.Item.name]:j.Item,[k.name]:k,[k.Password.name]:k.Password,AButton:e,AppLocalePicker:s,[x.name]:x,[L.name]:L},setup(){const a=o(null),e=o(!1),s=i(),{locale:f}=r(),{notification:g}=m(),{t:p}=l(),y=t({account:"vben",password:"123456"}),w=t({loading:!1}),b=t({account:[{required:!0,message:p("sys.login.accountPlaceholder"),trigger:"blur"}],password:[{required:!0,message:p("sys.login.passwordPlaceholder"),trigger:"blur"}]});return{formRef:a,formData:y,formState:w,formRules:b,login:async function(){const e=c(a);if(e){w.loading=!0;try{const a=await e.validate(),s=await d.login(u({password:a.password,username:a.account}));s&&g.success({message:p("sys.login.loginSuccessTitle"),description:`${p("sys.login.loginSuccessDesc")}: ${s.realName}`,duration:3})}catch(s){}finally{w.loading=!1}}},autoLogin:e,title:s&&s.title,logo:n,t:p,showLocale:f.show}}});const D={class:"login"},z=y("div",{class:"opacity-0 login-mask lg:opacity-100"},null,-1),I={class:"justify-center login-form-wrap lg:justify-end"},R={class:"mx-6 login-form"},S={class:"px-2 py-10 login-form__content"};P.render=function(a,e,s,o,l,t){const n=f("AppLocalePicker"),i=f("a-input"),r=f("a-form-item"),c=f("a-input-password"),d=f("a-checkbox"),u=f("a-col"),m=f("a-button"),h=f("a-row"),j=f("a-form");return g(),p("div",D,[z,y("div",I,[y("div",R,[a.showLocale?(g(),p(n,{key:0,class:"login-form__locale"})):w("",!0),y("div",S,[y("header",null,[y("img",{src:a.logo,class:"mr-4"},null,8,["src"]),y("h1",null,b(a.title),1)]),y(j,{class:"login-form__main",model:a.formData,rules:a.formRules,ref:"formRef"},{default:_((()=>[y(r,{name:"account"},{default:_((()=>[y(i,{size:"large",value:a.formData.account,"onUpdate:value":e[1]||(e[1]=e=>a.formData.account=e),placeholder:"username: vben"},null,8,["value"])])),_:1}),y(r,{name:"password"},{default:_((()=>[y(c,{size:"large",visibilityToggle:"",value:a.formData.password,"onUpdate:value":e[2]||(e[2]=e=>a.formData.password=e),placeholder:"password: 123456"},null,8,["value"])])),_:1}),y(h,null,{default:_((()=>[y(u,{span:12},{default:_((()=>[y(r,null,{default:_((()=>[y(d,{checked:a.autoLogin,"onUpdate:checked":e[3]||(e[3]=e=>a.autoLogin=e),size:"small"},{default:_((()=>[v(b(a.t("sys.login.autoLogin")),1)])),_:1},8,["checked"])])),_:1})])),_:1}),y(u,{span:12},{default:_((()=>[y(r,{style:{"text-align":"right"}},{default:_((()=>[y(m,{type:"link",size:"small"},{default:_((()=>[v(b(a.t("sys.login.forgetPassword")),1)])),_:1})])),_:1})])),_:1})])),_:1}),y(r,null,{default:_((()=>[y(m,{type:"primary",size:"large",class:"rounded-sm",block:!0,onClick:a.login,loading:a.formState.loading},{default:_((()=>[v(b(a.t("sys.login.loginButton")),1)])),_:1},8,["onClick","loading"])])),_:1})])),_:1},8,["model","rules"])])])])])};export default P;
