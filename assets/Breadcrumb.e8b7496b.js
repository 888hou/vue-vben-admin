import{d as e,aK as t,aG as a,r,aQ as n,aB as i,dP as o,aZ as s,bg as l,bQ as u,aS as d,t as c,aC as m,bI as p,aD as h,h as f,o as b,i as v,j as g,w as j,k,l as C,m as B}from"./index.0b3ead59.js";import{B as x}from"./index.b99c961b.js";import"./index.86c67de7.js";/* empty css              */import"./vendor.3b1829c7.js";import"./DownOutlined.9bd5d48d.js";import"./RightOutlined.1fbca3cd.js";import"./EllipsisOutlined.34a1a7b6.js";import"./types.899ae8eb.js";import"./isEqual.983b4f1d.js";import"./toInteger.0187ddcf.js";var y=e({name:"LayoutBreadcrumb",components:{Icon:t,[x.name]:x},props:{theme:a.oneOf(["dark","light"])},setup(){const e=r([]),{currentRoute:t}=n(),{prefixCls:a}=i("layout-breadcrumb"),{getShowBreadCrumbIcon:f}=l(),{t:b}=o();return s((()=>{var a,r;if(t.value.name===d)return;const n=null==(a=t.value)?void 0:a.matched;if(!n||0===n.length)return;let i=function(e){let t=p(e,(e=>{const{meta:t}=e;if(!t)return!1;const{title:a,hideBreadcrumb:r,hideMenu:n}=t;return!(!a||r||n)})).filter((e=>{var t,a;return!(null==(t=e.meta)?void 0:t.hideBreadcrumb)||!(null==(a=e.meta)?void 0:a.hideMenu)}));return t=t.filter((e=>e.path!==m.BASE_HOME)),t}(c(n));const o=i.filter((e=>e.path!==m.BASE_HOME));o.length===i.length&&o.unshift({path:m.BASE_HOME,meta:{title:b("layout.header.home"),isLink:!0}}),(null==(r=t.value.meta)?void 0:r.currentActiveMenu)&&o.push(t.value),e.value=o})),{routes:e,t:b,prefixCls:a,getShowBreadCrumbIcon:f,handleClick:function(e,t,a){null==a||a.preventDefault();const{children:r,redirect:n,meta:i}=e;if((null==r?void 0:r.length)&&!n)return void(null==a||a.stopPropagation());if(null==i?void 0:i.carryParam)return;const o=h();if(n&&u(n))o(n);else{const e=t.slice(1),a=e.pop()||"";let r=`${e.pop()||""}/${a}`;r=/^\//.test(r)?r:`/${r}`,o(r)}},hasRedirect:function(e,t){var a;return!!(null==(a=null==t?void 0:t.meta)?void 0:a.isLink)||e.indexOf(t)!==e.length-1}}}});const E={key:1};y.render=function(e,t,a,r,n,i){const o=f("Icon"),s=f("router-link"),l=f("a-breadcrumb");return b(),v("div",{class:[e.prefixCls,`${e.prefixCls}--${e.theme}`]},[g(l,{routes:e.routes},{itemRender:j((({route:t,routes:a,paths:r})=>[e.getShowBreadCrumbIcon&&t.meta.icon?(b(),v(o,{key:0,icon:t.meta.icon},null,8,["icon"])):k("",!0),e.hasRedirect(a,t)?(b(),v(s,{key:2,to:"",onClick:a=>e.handleClick(t,r,a)},{default:j((()=>[B(C(e.t(t.meta.title)),1)])),_:2},1032,["onClick"])):(b(),v("span",E,C(e.t(t.meta.title)),1))])),_:1},8,["routes"])],2)};export default y;
